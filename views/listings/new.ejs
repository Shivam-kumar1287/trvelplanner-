<%- layout('layouts/boilerplate') %>

<div class="container mt-5 d-flex justify-content-center">
  <div class="card shadow-lg border-0 p-5" 
       style="max-width: 650px; width: 100%; border-radius: 18px; background: rgba(255,255,255,0.85); backdrop-filter: blur(10px);">

    <div class="text-center mb-4">
      <h2 class="fw-bold text-primary mb-1">
        <i class="bi bi-plus-circle-fill me-2"></i>Create New Listing
      </h2>
      <p class="text-muted">Fill all details to publish your beautiful property</p>
    </div>

    <!-- ERROR ALERT -->
    <% if (typeof error !== 'undefined' && error) { %>
      <div class="alert alert-danger alert-dismissible fade show mb-4" role="alert">
        <i class="bi bi-exclamation-triangle-fill me-2"></i><%= error %>
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
      </div>
    <% } %>

    <!-- FORM -->
    <form action="/listings" method="POST" novalidate class="needs-validation">

      <!-- Title -->
      <div class="mb-4">
        <label class="form-label fw-semibold" for="title">
          <i class="bi bi-type-bold me-2 text-primary"></i>Title
        </label>
        <input class="form-control form-control-lg" type="text" id="title" name="listing[title]" required>
        <div class="invalid-feedback">Title is required</div>
      </div>

      <!-- Description -->
      <div class="mb-4">
        <label class="form-label fw-semibold" for="description">
          <i class="bi bi-card-text me-2 text-success"></i>Description
        </label>
        <textarea class="form-control form-control-lg" id="description" name="listing[description]" rows="4" required></textarea>
        <div class="invalid-feedback">Description is required</div>
      </div>

      <!-- Price -->
      <div class="mb-4">
        <label class="form-label fw-semibold" for="price">
          <i class="bi bi-cash-coin me-2 text-warning"></i>Price
        </label>
        <input class="form-control form-control-lg" type="number" id="price" name="listing[price]" min="0" required>
        <div class="invalid-feedback">Valid price is required</div>
      </div>

      <!-- Location -->
      <div class="mb-4">
        <label class="form-label fw-semibold" for="location">
          <i class="bi bi-geo-alt-fill me-2 text-danger"></i>Location
        </label>
        <input class="form-control form-control-lg" type="text" id="location" name="listing[location]" required>
        <div class="invalid-feedback">Location is required</div>
      </div>

      <!-- Country -->
      <div class="mb-4">
        <label class="form-label fw-semibold" for="country">
          <i class="bi bi-globe-asia-australia me-2 text-info"></i>Country
        </label>
        <input class="form-control form-control-lg" type="text" id="country" name="listing[country]" required>
        <div class="invalid-feedback">Country is required</div>
      </div>

      <!-- Image URL -->
      <div class="mb-4">
        <label class="form-label fw-semibold" for="image">
          <i class="bi bi-image-fill me-2 text-secondary"></i>Image URL
        </label>
        <input class="form-control form-control-lg" type="url" id="image" name="listing[image]">
      </div>

      <!-- BUTTONS -->
      <div class="d-flex justify-content-between mt-4">
        <a href="/listings" class="btn btn-outline-secondary px-4">
          <i class="bi bi-arrow-left-circle me-2"></i>Back
        </a>
        <button class="btn btn-success px-4">
          <i class="bi bi-check-circle-fill me-2"></i>Create Listing
        </button>
      </div>

    </form>
  </div>
</div>
